from pyChatGPT import ChatGPT   
import time
import requests
import json



def get_session_tok():
    # fetch the json file from the url
    response = requests.get("https://chat.openai.com/api/auth/session")
    data = json.loads(response.text)
    access_token = data['accessToken']
    return access_token
def get_response(question):
    session_token="eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..huzvP2ZwboZdmIHI.QthBD7DmTDElGtbvUzaQzSGLLYxfMtJ8IubfqJokRPPzsKAetDBOc9CeoW0e7v_8_D5n_KxkloOYuGQJjGN20exEQ-6xt5DCmk2GgpFQBVcdSkv-2Jf1DUlamz-Br-qN2YwbOR66r9kpsYilKN2SH1KjK8Go_gHof3hQPEQq3l4bzGPs949CheL_YYBMSZp61Ay-y8TtVJQQaRjmVNeMPsgCLUq93PeYfmuNA9J-2M_SGg0GmOd2PvolXlPhFRR182PM1VC5TyvTUb51c7pBe3MrGUH8Sb02N3GHYy4pXldNgN9St_YLCfMTLJ0pyYOi6a93XvuDHtuCucsezHHHH-LRf1vfvQVjN5H-fWMMY9GLEuHvHU21eZP_x0dwfZbDR9ClhIWk6m8A-59eBHyOCZiXkm5lme9kJnmNPYLCju4Alw5YcreFvJgSLtJo0jzayUvfPt8NUR2bZEzcTGRFm88-oJM74cNjcUqNJKzhSAPdjKgHuRYguyHUjdEROTmQ3ikFw4q_ow6zq9dxWrQUvzcPm-lra4nZtDgyKUXPQYYXYFmZvqCrZhg8Ou6OHzKmhhEX1Ad0GCabcWqrk2LrnQ4VX8vjgfRyJfoU5zxBjQ2l7Fc40egwZ-sLOceCrlFfrnOif4QYcipFnMGVEef5XjnlpclrI4lDcxdBryzvy2XGhVb8bVQuBmwl8JPQRLRXfQNO_B5UzyDrvF7AufMzUm52lDbr_AvZxXq7fgfrOfGchdC54WQzeHL3epjC0rdoqCRT6jm5SQZYeYxW4EN3L_WEunqZ1b3Sz-tUsnK-Ksve6o92vSaBIbd67YvgGXTGgyx_8hnZKAvJJrnncmw8CLy7nGdyFtmyY23URuAVh3yZjN4MCL8-eyVPDeH7WOg7-YM7bPioj--aQ3U_61BOy8JgXqvypPe45WUHp9wqxTHU4c6jX53dm8R4QlikLZnF0pL__xe5a5QknWUPPCuz95bFRk8CDUIuaLSj0wD680QoSbyrUH7nRe7NNygiRmO31dNX63lANH70DQlH3qm7YcALN0wuLcWOJ27-aij6sUEPeLjTUr0EcXm5AHGOjl1ooO22MTR8AEzYUjBVNZwGfrUKiS7CHeaDjv1HDHkMoQT-PHrg0bIUJTpNkQttPpU85wUmzfjdH3fOaROg2c67PkSihpi7LbYV-t6WB33wQQOD6LW-fyvPPR1ybaQ3Q_BJbf7N4tEwOn7ukdKRgQzga_ei8z9Z_VJgmmJM-Tal4eD5PkQ7Pcs8nEvn5L7ca404F3yqZLI--BCTSZuHChRqWXLgl5tV5JOXzNQi6WvwqBl7xfaDIkTNw2_zqHpZkEjRh6tNwuygVGqF-Qk7yJtHxKJ6gbUQH_ciTkRjYAM6_OAUY_qVBBE5QATnAE6cwJvM5KMyMNzgJuTYPjHyg3jMSDFPM8egwPZJ52Shq-PAWUCcyYUOqAvn6cf8q2ciqxCOEeiuLAfYokag4FNLyrqEsE34QGRo66P5WPqUos4SJkGZOgAM1ZhBjOhclGRrKUybrt5NML-7KtuRpwAcasJePqzLQ_NVWxR5kbQLVwwaDBjQc2NoBbtlKyYJbM-m9W3wuRPS-ufg_iY7Tgu04ssgvJZe4lb9MML1HhanROgPHMG6er2GS5fzOdDZ9guHbfDk6dwufBA8pvwmCAM6PvySRK9UmDGCFE-cqz3b44QIEJSlYoAPqwJ-dVjkZVE40geQ6kDdazvjMjurWoR6aJq3rn9JDOSg-4E007kcKtH0KitXP79857QICrWF63kJTqTTqol_LyUXgx1RxLmekz2CbUok1-A1crXkgmj_a_DFwAVdagmGH15N44pt_Ymk_dyWj0llWcVLKiitFvbOUKxAAHcsoJt6TBfLj1jy0KGuOKMCkZAkqAoi779b_ogzE0abkQ2B1HqSVdBxOl-Nh0E0gpv_-THz-zamgkEuIgmnI4Kt7-rkZ2Nmc-FPbY7YkHSYZxqOCPTALREXNnqEQvyHLAaBollG_aym6MRDPG2YvX7bIh00q_MXA05KT04ZUxQlNUmCulxwFh-mq5_uvDvbhAHEQ8_XHTpJO2cQz8Hytg5l7n9wYfXxdQodlt93p5YGUqYVpbG1hd5nokH-QEKH8ppWWvhs0iBTFISPL73gAhz7CeOZNbl8M5ONIAHiM_eURy_yuyXvd7R4I0rGyZ7AE6imgjpWRf-lbsdfCJB7ZehQrTIKiB1eMXW-E2vrY2hgBQolHqmPhRbGQIrX-13To6J7__lXa6Fr8iC1ma297aiVfQoycA3Qxy90WVfeupRoUX_wxKSqr9edvAU4ulSArET6Lfwe4vyhfPEwhhTTBLdgt0uB1IMnPEjjzyzOvmsprIC1Tm_zb9kHXPHH5AigSArCrqLt9GflSq6FjxznLjMFtqA-S7JwYR4yi1oSpMGNux-h6CdcT_e7_cUg3pm7GCzh8_6l8zvLvxlHH42jL3QxO2uBiLi_UszLW2x9SSswart-AAzgUZ9KURlsZtN9OwTv8X7LM-gzgh09Ddtka-41HP0W9hlkG__lYdapbbzoUDkb4yLA2rFMPDjlsbfCvHrjqdEUUon4kNUQQgdP1_uDhO5w5DcsF8Vd04cW0xLxAQeXG4RhMn61U70VTzTU2fv848LfrJR1kloJgmeS-bYmaxog6zwmTFO7OJw7j-V7YU7F43rG-5lzkRxV1C0Lu8k8GrW5CmFf7kk1HzCyJmnQb9yfmuDwRdAOAGYBUttSv2J8BsvkT-IzpJEgyrW8dRq_RWjugBLVwGGED8wVGwWdtHcYjQP_7Yg-Z4Q.UDfkdOPnJxWGNS8a9eWngw"
    api= ChatGPT(session_token)
    resp= api.send_message(question)
    return resp['message']

if __name__ == "__main__":
    #tok=get_session_tok()
    #print(tok)
    print(get_response('write an istagram post about this quote: time is money, why are you wasting it'))